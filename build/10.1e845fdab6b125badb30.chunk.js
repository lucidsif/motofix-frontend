webpackJsonp([10],{"./app/containers/LoginPage/LoginForm.js":function(e,n,t){"use strict";var o=t("./node_modules/react/react.js"),i=t.n(o),r=t("./node_modules/redux-form/immutable.js"),a=(t.n(r),t("./node_modules/semantic-ui-react/dist/commonjs/index.js")),l=(t.n(a),t("./node_modules/react-router/lib/index.js")),s=(t.n(l),Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}),u=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(n,t,o,i){var r=n&&n.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===a)t.children=i;else if(a>1){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:e,type:n,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}}(),c=function(e){var n=e.input,t=e.type,o=e.meta,r=o.touched,a=o.error;return u("div",{},void 0,i.a.createElement("input",s({},n,{type:t})),r&&a&&u("span",{},void 0,a))},d=u(a.Header,{as:"h2",textAlign:"center"},void 0," Log In "),p=u(a.Form.Field,{},void 0,"Email",u(r.Field,{name:"email",type:"email",component:c})),f=u(a.Form.Field,{},void 0,"Password",u(r.Field,{name:"password",type:"password",component:c,label:"Password"})),m=function(e){function n(e){l.browserHistory.push("/signup")}var t=e.error,o=e.handleSubmit,i=e.submitting;return u(a.Form,{onSubmit:o},void 0,d,p,f,t&&u("strong",{},void 0,t),u(a.Button,{fluid:!0,onClick:function(e){e.preventDefault(),n(e)},hidden:!0},void 0,"No Account?"),u(a.Button,{color:"teal",fluid:!0,disabled:i},void 0,"Log In"))};n.a=t.i(r.reduxForm)({form:"loginForm"})(m)},"./app/containers/LoginPage/index.js":function(e,n,t){"use strict";function o(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function l(e){return{onAuthentication:function(){e(t.i(y.b)())}}}var s=t("./node_modules/react/react.js"),u=t.n(s),c=t("./node_modules/react-router/lib/index.js"),d=(t.n(c),t("./node_modules/react-redux/lib/index.js")),p=(t.n(d),t("./node_modules/react-apollo/lib/browser.js")),f=(t.n(p),t("./node_modules/graphql-tag/index.js")),m=t.n(f),g=t("./node_modules/react-helmet/lib/Helmet.js"),v=t.n(g),b=t("./app/containers/LoginPage/LoginForm.js"),h=t("./node_modules/semantic-ui-react/dist/commonjs/index.js"),y=(t.n(h),t("./app/containers/App/actions.js"));t.d(n,"LoginPage",function(){return k});var j=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(n,t,o,i){var r=n&&n.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===a)t.children=i;else if(a>1){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:e,type:n,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}}(),w=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),_=o(["\n      mutation logIn($email: String!, $password: String!){\n        logIn(email: $email, password: $password){\n          data {\n            id\n            email\n          }\n          token\n      }\n    }\n    "],["\n      mutation logIn($email: String!, $password: String!){\n        logIn(email: $email, password: $password){\n          data {\n            id\n            email\n          }\n          token\n      }\n    }\n    "]),S=j(h.Message,{negative:!0},void 0,j("p",{},void 0,"Incorrect user credentials :("),j("p",{},void 0,"Please try again")),P=j(h.Message,{positive:!0},void 0,j("p",{},void 0,"Success: You have been logged in!"),j("p",{},void 0,"Routing you in just a sec...")),k=function(e){function n(e){i(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.login=function(e){return alert("It's a map thanks to immutables with redux-form: "+e)},t.state={inAuthenticated:null},t.loginMutation=t.loginMutation.bind(t),t}return a(n,e),w(n,[{key:"loginMutation",value:function(e){var n=this,t=e._root.entries[0][1],o=e._root.entries[1][1];return this.props.client.mutate({mutation:m()(_),variables:{email:t,password:o}}).then(function(e){return e.data.logIn?(console.log("authenticated"),localStorage.setItem("authToken",e.data.logIn.token),n.setState({inAuthenticated:!1}),n.props.onAuthentication(),c.browserHistory.goBack()):(console.log("inauthenticated"),n.setState({inAuthenticated:!0}))})}},{key:"conditionalInauthenticatedMessage",value:function(){var e=this.state.inAuthenticated;return e?S:e===!1?P:null}},{key:"render",value:function(){return j("section",{},void 0,j("div",{className:"container"},void 0,j(v.a,{title:"LoginPage",meta:[{name:"description",content:"Description of LoginPage"}]}),this.conditionalInauthenticatedMessage(),j(h.Segment,{padded:"very"},void 0,j(b.a,{onSubmit:this.loginMutation}))))}}]),n}(u.a.Component),O=t.i(d.connect)(null,l);n.default=t.i(p.compose)(O,p.withApollo)(k)}});